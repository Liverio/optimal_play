// ----------------------------------------------------
// Project     : Texas Hold'em hand evaluator
// Module Name : equity.h
// Author      : Javier Olivito (JO)
// ----------------------------------------------------
// Revisions:
// Date        Version     Author      Description
// 2020/06/14      1.0         JO      Initial release 
// ----------------------------------------------------
#include <stdint.h>
#include <inttypes.h>
#include <stdio.h>
typedef uint64_t u64;

#define EQUITY_SIMS 100000

void allin_equity_builder();

#define HANDS_OFFSUITED 13 + 12 + 11 + 10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 + 1
#define HANDS_SUITED         12 + 11 + 10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 + 1

typedef char tp_cards_idx[2];
static const tp_cards_idx hand_cards_idx[HANDS_OFFSUITED + HANDS_SUITED] = {
    // AA..A2
    {12, 12},
    {12, 11},
    {12, 10},
    {12,  9},
    {12,  8},
    {12,  7},
    {12,  6},
    {12,  5},
    {12,  4},
    {12,  3},
    {12,  2},
    {12,  1},
    {12,  0},
    // KK..K2o
    {11, 11},
    {11, 10},
    {11,  9},
    {11,  8},
    {11,  7},
    {11,  6},
    {11,  5},
    {11,  4},
    {11,  3},
    {11,  2},
    {11,  1},
    {11,  0},
    // QQ..Q2o
    {10, 10},
    {10,  9},
    {10,  8},
    {10,  7},
    {10,  6},
    {10,  5},
    {10,  4},
    {10,  3},
    {10,  2},
    {10,  1},
    {10,  0},
    // JJ..J2o
    { 9,  9},
    { 9,  8},
    { 9,  7},
    { 9,  6},
    { 9,  5},
    { 9,  4},
    { 9,  3},
    { 9,  2},
    { 9,  1},
    { 9,  0},
    // TT..T2o
    { 8,  8},
    { 8,  7},
    { 8,  6},
    { 8,  5},
    { 8,  4},
    { 8,  3},
    { 8,  2},
    { 8,  1},
    { 8,  0},
    // 99..92o
    { 7,  7},
    { 7,  6},
    { 7,  5},
    { 7,  4},
    { 7,  3},
    { 7,  2},
    { 7,  1},
    { 7,  0},
    // 88..82o
    { 6,  6},
    { 6,  5},
    { 6,  4},
    { 6,  3},
    { 6,  2},
    { 6,  1},
    { 6,  0},
    // 77..72o
    { 5,  5},
    { 5,  4},
    { 5,  3},
    { 5,  2},
    { 5,  1},
    { 5,  0},
    // 66..62o
    { 4,  4},
    { 4,  3},
    { 4,  2},
    { 4,  1},
    { 4,  0},
    // 55..52o
    { 3,  3},
    { 3,  2},
    { 3,  1},
    { 3,  0},
    // 44..42o
    { 2,  2},
    { 2,  1},
    { 2,  0},
    // 33..32o
    { 1,  1},
    { 1,  0},
    // 22
    { 0,  0},
    // AKs..A2s
    {12, 11},
    {12, 10},
    {12,  9},
    {12,  8},
    {12,  7},
    {12,  6},
    {12,  5},
    {12,  4},
    {12,  3},
    {12,  2},
    {12,  1},
    {12,  0},
    // KQs..K2s
    {11, 10},
    {11,  9},
    {11,  8},
    {11,  7},
    {11,  6},
    {11,  5},
    {11,  4},
    {11,  3},
    {11,  2},
    {11,  1},
    {11,  0},
    // QJs..Q2s
    {10,  9},
    {10,  8},
    {10,  7},
    {10,  6},
    {10,  5},
    {10,  4},
    {10,  3},
    {10,  2},
    {10,  1},
    {10,  0},
    // JTs..J2s
    { 9,  8},
    { 9,  7},
    { 9,  6},
    { 9,  5},
    { 9,  4},
    { 9,  3},
    { 9,  2},
    { 9,  1},
    { 9,  0},
    // T9s..T2s
    { 8,  7},
    { 8,  6},
    { 8,  5},
    { 8,  4},
    { 8,  3},
    { 8,  2},
    { 8,  1},
    { 8,  0},
    // 98s..92s
    { 7,  6},
    { 7,  5},
    { 7,  4},
    { 7,  3},
    { 7,  2},
    { 7,  1},
    { 7,  0},
    // 87s..82s
    { 6,  5},
    { 6,  4},
    { 6,  3},
    { 6,  2},
    { 6,  1},
    { 6,  0},
    // 76s..72s
    { 5,  4},
    { 5,  3},
    { 5,  2},
    { 5,  1},
    { 5,  0},
    // 65s..62s
    { 4,  3},
    { 4,  2},
    { 4,  1},
    { 4,  0},
    // 54s..52s
    { 3,  2},
    { 3,  1},
    { 3,  0},
    // 43s..42s
    { 2,  1},
    { 2,  0},
    // 32s
    { 1,  0}};

static const char combos[HANDS_OFFSUITED + HANDS_SUITED] = {
    // AA
    6,
    // AKo..A2o
    12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
    // KK
    6,
    // KQo..K2o
    12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
    // QQ
    6,
    // QJo..Q2o
    12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
    // JJ
    6,
    // JTo..J2o
    12, 12, 12, 12, 12, 12, 12, 12, 12,
    // TT
    6,
    // T9o..T2o
    12, 12, 12, 12, 12, 12, 12, 12,
    // 99
    6,
    // 98o..92o
    12, 12, 12, 12, 12, 12, 12,
    // 88
    6,
    // 87o..82o
    12, 12, 12, 12, 12, 12,
    // 77
    6,
    // 76o..72o
    12, 12, 12, 12, 12,
    // 66
    6,
    // 65o..62o
    12, 12, 12, 12,
    // 55
    6,
    // 54o..52o
    12, 12, 12,
    // 44
    6,
    // 43o..42o
    12, 12,
    // 33
    6,
    // 32o
    12,
    // 22
    6,
    // AKs..A2s
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    // KQs..K2s
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    // QJs..Q2s
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
    // JTs..J2s
    4, 4, 4, 4, 4, 4, 4, 4, 4,
    // T9s..T2s
    4, 4, 4, 4, 4, 4, 4, 4,
    // 98s..92s
    4, 4, 4, 4, 4, 4, 4,
    // 87s..82s
    4, 4, 4, 4, 4, 4,
    // 76s..72s
    4, 4, 4, 4, 4,
    // 65s..62s
    4, 4, 4, 4,
    // 54s..52s
    4, 4, 4,
    // 43s..42s
    4, 4,
    // 32s
    4};
